// CSS Custom Properties
.alert {
  --#{$prefix}alert-background-color: var(--#{$prefix}color-background-inverse);
  --#{$prefix}alert-border-color: var(--#{$prefix}color-border-secondary);
  --#{$prefix}alert-text-color: var(--#{$prefix}color-text-base);
  --#{$prefix}alert-heading-color: var(--#{$prefix}color-text-base);
  --#{$prefix}alert-icon-spacing: var(--#{$prefix}icon-spacing);
  --#{$prefix}alert-border-size: 0.5rem;
  --#{$prefix}alert-spacing-inset: var(--#{$prefix}spacing-s);
  --#{$prefix}alert-spacing-inset-extra: var(--#{$prefix}spacing-16x); // TODO: replace with semantic token
  --#{$prefix}alert-spacing-outside: var(--#{$prefix}spacing-m);
}

// Base styles
.alert {
  position: relative;
  margin-bottom: var(--#{$prefix}alert-margin);
  padding: var(--#{$prefix}alert-spacing-inset);
  border: 1px solid var(--#{$prefix}alert-border-color);
  background-color: var(--#{$prefix}alert-background-color);
  color: var(--#{$prefix}alert-text-color);

  @include media-breakpoint-up(lg) {
    --#{$prefix}alert-spacing-inset: var(-#{$prefix}spacing-inset-m);
    padding-left: var(--#{$prefix}alert-spacing-inset);
  }
}

// Alternate styles
// Generate contextual modifier classes for colorizing the alert.
// Loop through theme colors to generate contextual modifier classes for colorizing the alert
@each $type, $value in $status {
  @if index(('danger', 'warning', 'success', 'info', 'primary'), $type) {
    .alert-#{$type} {
      border-left: var(--#{$prefix}alert-border-size) solid #{$value};
    }

    .alert-#{$type} .alert-icon {
      fill: #{$value};
    }
  }
}

// Headings for larger alerts
.alert-heading {
  // Specified to prevent conflicts of changing $headings-color
  color: var(--#{$prefix}alert-heading-color);
}

.alert-icon {
  margin-right: var(--#{$prefix}alert-icon-spacing);
}

// Provide class for links that match alerts
.alert-link {
  font-weight: var(--#{$prefix}font-weight-solid);
}

// Dismissible alerts
// Expand the right padding and account for the close button's positioning.
.alert-dismissible {
  padding-right: var(--#{$prefix}alert-spacing-inset);
  // Adjust close link position
  .btn-close {
    position: absolute;
    top: 50%;
    right: 0;
    padding: var(--#{$prefix}alert-spacing-inset);
    color: inherit;
    transform: translateY(-50%);
  }
}

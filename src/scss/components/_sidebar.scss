//
// Component properties

.sidebar-wrapper {
  --#{$prefix}sidebar-padding: var(--#{$prefix}spacing-m);
  --#{$prefix}sidebar-heading-font-size: var(--#{$prefix}heading-6-font-size);
  --#{$prefix}sidebar-link-color: var(--#{$prefix}color-text-primary);
  --#{$prefix}sidebar-link-color-active: var(--#{$prefix}color-text-primary-active);
  --#{$prefix}sidebar-link-padding-x: var(--#{$prefix}spacing-s);
  --#{$prefix}sidebar-link-padding-y: var(--#{$prefix}spacing-xs);
  --#{$prefix}sidebar-link-sublist-indent: var(--#{$prefix}spacing-m);
  --#{$prefix}sidebar-link-font-size: var(--#{$prefix}label-font-size);
  --#{$prefix}sidebar-link-line-height: var(--#{$prefix}label-line-height);
  --#{$prefix}sidebar-link-active-line-width: 4px;
  --#{$prefix}sidebar-divider-color: var(--#{$prefix}color-border-subtle);
}

//
// Component styles

.sidebar-wrapper {
  margin: var(--#{$prefix}sidebar-padding) 0;

  h3 {
    margin-bottom: var(--#{$prefix}spacing-l);
    padding-right: var(--#{$prefix}spacing-s);
    padding-left: var(--#{$prefix}spacing-s);
    font-size: var(--#{$prefix}sidebar-heading-font-size);
    font-weight: var(--#{$prefix}font-weight-solid);
    text-transform: uppercase;
  }

  .sidebar-linklist-wrapper {
    .link-list-wrapper {

      ul {
        li {
          a {
            width: 100%;
            padding: var(--#{$prefix}sidebar-link-padding-y) var(--#{$prefix}sidebar-link-padding-x);
            font-size: var(--#{$prefix}sidebar-link-font-size);
            line-height: var(--#{$prefix}sidebar-link-line-height);
            text-decoration: none;
            cursor: pointer;

            span {
              color: var(--#{$prefix}sidebar-link-color);
            }

            &.active {
              span {
                color: var(--#{$prefix}color-text-primary-active);
                text-decoration: underline;
              }

              &:after {
                position: absolute;
                top: 0;
                bottom: 0;
                left: 0;
                content: '';
                display: block;
                width: var(--#{$prefix}sidebar-link-active-line-width);
                background-color: var(--#{$prefix}color-border-primary);
              }
            }

            // Collapsable links
            &[data-bs-toggle="collapse"][aria-expanded="true"] span {
              color: var(--#{$prefix}sidebar-link-color-active);
            }
          }
        }

        &.link-sublist {
          padding-left: 0; // Reset padding for sublist from _link-list.scss

          li a {
            padding-left: var(--#{$prefix}sidebar-link-sublist-indent);

            &.active span {
              text-decoration: underline;
            }
            
          }
        }
      }
    }

    // Divider between link lists
    &.linklist-secondary:before {
      content: '';
      display: block;s
      height: 1px;
      margin: var(--#{$prefix}sidebar-link-padding-y) var(--#{$prefix}sidebar-link-padding-y) var(--#{$prefix}sidebar-link-padding-y) 0;
      background: var(--#{$prefix}sidebar-divider-color);
    }
  }

  &.it-line-left-side,
  &.it-line-right-side {
    border-color: var(--#{$prefix}sidebar-divider-color);
  }

  &.it-line-right-side {
    border-right-width: 1px;
    border-right-style: solid;

    .sidebar-linklist-wrapper {
      .link-list-wrapper {
        ul {
          li {
            a {
              &[data-bs-toggle='collapse'] {
                &.active {
                  border-right: $sidebar-dropdown-line-selection-width solid $sidebar-dropdown-line-selection-color;
                  border-left: none;
                }
              }

              &.active {
                &:after {
                  right: 0;
                  left: auto;
                }
              }
            }
          }
        }
      }
    }
  }

  &.it-line-left-side {
    border-left-width: 1px;
    border-left-style: solid;
  }
}

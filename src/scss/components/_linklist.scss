.link-list-wrapper {
  --#{$prefix}list-divider-size: 1px;
  --#{$prefix}list-heading-font-size: var(--#{$prefix}heading-6-font-size);
  --#{$prefix}list-item-font-size: var(--#{$prefix}label-font-size);
  --#{$prefix}list-item-line-height: var(--#{$prefix}label-line-height);
  --#{$prefix}list-item-spacing: var(--#{$prefix}spacing-inset-s)  var(--#{$prefix}spacing-inline-xs);
  --#{$prefix}list-nested-spacing: var(--#{$prefix}spacing-inset-s);
  // --#{$prefix}list-item-spacing-stack: var(--#{$prefix}spacing-stack-s);

  .link-list-heading,
  h3 {
    margin-bottom: var(--#{$prefix}spacing-stack-xs);
    padding: 0 var(--#{$prefix}spacing-stack-xs);
    color: var(--#{$prefix}color-text-base);
    font-size: var(--#{$prefix}list-heading-font-size);
    font-weight: var(--#{$prefix}heading-font-weight-weak);
    line-height: var(--#{$prefix}heading-line-height);
  }

  h3 {
    padding: 0 var(--#{$prefix}spacing-inset-m);
    color: var(--#{$prefix}color-text-base);
  }

  ul {
    padding: 0;
    list-style-type: none;

    &.link-sublist {
      padding-left: var(--#{$prefix}list-nested-spacing);
    }
  }

  li a {
    position: relative;
    display: block;
    padding: var(--#{$prefix}list-item-spacing);
    font-size: var(--#{$prefix}list-item-font-size);
    line-height: var(--#{$prefix}list-item-line-height);
    text-decoration: none;

    &.active span,
    &:hover:not(.disable) span {
      text-decoration: underline;
    }

    // List item active state
    &.active {      
      span {
        color: var(--#{$prefix}color-text-primary-active);
      }

      .icon {
        color: var(--#{$prefix}color-icon-primary-active);
      }
    }

    // Hover on list item
    &:hover:not(.disabled) {
      span {
        color: var(--#{$prefix}color-text-primary-hover);
      }

      p {
        color: var(--#{$prefix}color-text-secondary);
      }

      .icon {
        fill: var(--#{$prefix}icon-primary-hover);
      }
    }

    // List item disabled state
    &.disabled {
      cursor: not-allowed;

      &:hover span {
        text-decoration: none;
      }

      span {
        color: var(--#{$prefix}color-text-disabled);
      }

      svg {
        fill: var(--#{$prefix}icon-disabled);

        &.secondary {
          fill: var(--#{$prefix}icon-disabled);
        }
      }
    }

    // Change the list item link font weight
    &.medium,
    .list-item-title {
      font-weight: var(--#{$prefix}font-weight-solid);
    }

    // Increase font-size and spacing for list item link with large class
    &.large {
      --#{$prefix}list-item-font-size: var(--#{$prefix}label-font-size-m);
    }

    // Avatar position inside the list item
    &.avatar {
      display: flex;
      margin-bottom: var(--#{$prefix}spacing-stack-xs);

      .avatar {
        display: block;
        margin-right: var(--#{$prefix}spacing-inline-s);
      }
    }

    // Icon left and right inside list item
    &.icon-right,
    &.icon-left {
      padding-right: 0;
      padding-left: 0;
    }

    // Icon left inside list item
    &.list-item.icon-left {
      .icon {
        left: 0;
        flex-shrink: 0;
        margin-right: var(--#{$prefix}spacing-inline-xs);
      }

      p {
        width: 100%;
      }
    }

    &.list-item.icon-right {
      .list-item-title-icon-wrapper {
        justify-content: space-between;
      }
    }
    
    &.right-icon {
      .list-item-title-icon-wrapper {
        justify-content: space-between;
      }
  
      .icon {
        transition: transform $dropdown-menu-animation-speed;
  
        &.secondary {
          color: var(--#{$prefix}icon-secondary);
        }
      }
    }

    &[data-bs-toggle] .icon {
      transition: transform 0.3s;
    }

    &[aria-expanded='true'] .icon {
      transform: scale(-1);
    }

    

    .icon {
      display: inline-block;
      flex-shrink: 0;
    }

    // TODO: Not used anywhere
    // &.right-icon[aria-expanded='true'] .icon.right {
    //   transform: scaleY(-1);
    // }

    .list-item-title-icon-wrapper {
      display: flex;
      align-items: center;

      .list-item-title {
        margin-right: var(--#{$prefix}spacing-inline-m);
      }
    }

    // Text paragraph inside multiline list item
    p {
      color: var(--#{$prefix}color-text-secondary);
      font-size: var(--#{$prefix}caption-font-size);
      line-height: var(--#{$prefix}caption-line-height);
    }

    // Listed item label wrapped in the <a> tag 
    span {
      display: inline-block;
      color: var(--#{$prefix}color-text-primary);
    }
  }

  // Divider between list items
  .divider {
    display: block;
    height: var(--#{$prefix}list-divider-size);
    margin: var(--#{$prefix}spacing-stack-xs) 0;
    background: var(--#{$prefix}color-border-subtle);
  }

  .toggles label {
    justify-content: space-between;
    margin: 0;
    padding: 0 var(--#{$prefix}spacing-inset-m);
    font-size: var(--#{$prefix}body-font-size);
  }

  .toggles input[type='checkbox']+.lever {
    margin-top: var(--#{$prefix}spacing-stack-xs);
  }

  .form-check.form-check-group {
    padding: 0 var(--#{$prefix}spacing-inset-m);
    box-shadow: none;

    [type='checkbox']+label {
      height: inherit;
      margin-bottom: 0;
      padding-left: 0;
      font-size: var(--#{$prefix}body-font-size);

      &:after {
        right: var(--#{$prefix}spacing-inset-m);
      }

      &:before {
        right: var(--#{$prefix}spacing-inset-m);
      }
    }

    [type='checkbox'][disabled]+label {
      color: var(--#{$prefix}color-text-disabled);
    }
  }
}

// Multiline list item
.multiline {
  .list-item-title-icon-wrapper {
    margin-bottom: var(--#{$prefix}spacing-stack-xxs);
  }

  .list-item.icon-right .list-item-title-icon-wrapper {
    margin-right: 0;
  }

  // List item label inside a multiline list item
  .list-item-title {
    font-size: var(--#{$prefix}label-font-size);
    @include media-breakpoint-up(lg) {
      font-size: var(--#{$prefix}label-font-size-m);
    }
  }

  p {
    margin-bottom: 0;
  }
}

@include media-breakpoint-up(md) {
  .link-list-wrapper ul li a.large.icon-left,
  .link-list-wrapper ul li a.large.icon-right {
    --#{$prefix}list-item-spacing: var(--#{$prefix}spacing-inset-s);
  }
}

// @include media-breakpoint-up(lg) {
//   .link-list-wrapper.menu-link-list {
//     position: relative;

//     h3,
//     h4 {
//       position: relative;
//       margin-top: 0;
//       padding: 1rem;
//       border-bottom: 4px solid var(--#{$prefix}color-border-subtle);

//       &:after {
//         position: absolute;
//         bottom: -4px;
//         left: 0;
//         content: '';
//         width: 40px;
//         height: 4px;
//         background-color: $warning;
//       }
//     }
//   }
// }

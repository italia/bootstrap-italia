{"version":3,"file":"input-password.js","sources":["../../src/js/plugins/input-password.js"],"sourcesContent":["import BaseComponent from 'bootstrap/js/src/base-component'\nimport EventHandler from 'bootstrap/js/src/dom/event-handler'\nimport SelectorEngine from 'bootstrap/js/src/dom/selector-engine'\nimport Manipulator from 'bootstrap/js/src/dom/manipulator'\n\n//import Input from './input'\nimport InputLabel from './input-label'\n\nconst NAME = 'inputpassword'\nconst DATA_KEY = 'bs.inputpassword'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst Default = {\n  shortPass: 'Password molto debole',\n  badPass: 'Password debole',\n  goodPass: 'Password sicura',\n  strongPass: 'Password molto sicura',\n  enterPass: 'Inserisci almeno 8 caratteri e una lettera maiuscola',\n  alertCaps: 'CAPS LOCK inserito',\n  showText: true,\n  minimumLength: 4,\n}\n\nconst EVENT_CLICK = `click${EVENT_KEY}`\nconst EVENT_KEYUP = `keyup${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_KEYPRESS = `keypress${EVENT_KEY}`\nconst EVENT_SCORE = `score${EVENT_KEY}`\nconst EVENT_TEXT = `text${EVENT_KEY}`\n\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_MOUSEDOWN_DATA_API = `mousedown${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_PASSWORD = 'input-password'\n//const CLASS_NAME_METER = 'input-password-strength-meter'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_PASSWORD = 'input[data-bs-input][type=\"password\"]'\nconst SELECTOR_BTN_SHOW_PWD = '.password-icon'\nconst SELECTOR_METER = '.password-strength-meter'\nconst SELECTOR_METER_GRAYBAR = '.password-meter'\nconst SELECTOR_METER_COLBAR = '.progress-bar'\nconst SELECTOR_CAPS = '.password-caps'\nconst SELECTOR_TEXT = '.form-text'\n\nclass InputPassword extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._isCustom = this._element.classList.contains(CLASS_NAME_PASSWORD)\n    this._meter = this._element.parentNode.querySelector(SELECTOR_METER)\n    this._isShiftPressed = false\n    this._isCapsOn = false\n\n    this._grayBarElement = null\n    this._colorBarElement = null\n    this._textElement = null\n    this._capsElement = null\n    this._showPwdElement = null\n\n    this._text = {}\n\n    this._label = new InputLabel(element)\n\n    this._init()\n    this._bindEvents()\n  }\n\n  // Getters\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n\n  // Private\n  _getConfig(config) {\n    config = {\n      ...Default,\n      ...Manipulator.getDataAttributes(this._element),\n      ...(typeof config === 'object' ? config : {}),\n    }\n    return config\n  }\n\n  _init() {\n    if (this._meter) {\n      /*this._grayBarElement = document.createElement('div')\n      this._grayBarElement.classList.add('password-meter', 'progress', 'rounded-0', 'position-absolute')\n      this._grayBarElement.innerHTML = `<div class=\"row position-absolute w-100 m-0\">\n          <div class=\"col-3 border-start border-end border-white\"></div>\n          <div class=\"col-3 border-start border-end border-white\"></div>\n          <div class=\"col-3 border-start border-end border-white\"></div>\n          <div class=\"col-3 border-start border-end border-white\"></div>\n        </div>`\n\n      this._colorBarElement = document.createElement('div')\n      this._colorBarElement.classList.add('progress-bar')\n      this._colorBarElement.setAttribute('role', 'progressbar')\n      this._colorBarElement.setAttribute('aria-valuenow', '0')\n      this._colorBarElement.setAttribute('aria-valuemin', '0')\n      this._colorBarElement.setAttribute('aria-valuemax', '100')\n\n      const wrapper = document.createElement('div')\n      wrapper.classList.add('password-strength-meter')\n\n      this._grayBarElement.appendChild(this._colorBarElement)\n\n      if (this._config.showText) {\n        this._textElement = document.createElement('small')\n        this._textElement.classList.add('form-text', 'text-muted')\n        this._textElement.innerHTML = this._config.enterPass\n        wrapper.appendChild(this._textElement)\n      }\n\n      wrapper.appendChild(this._grayBarElement)\n\n      this._element.parentNode.insertBefore(wrapper, this._element.nextSibling)*/\n\n      this._grayBarElement = this._meter.querySelector(SELECTOR_METER_GRAYBAR)\n      this._colorBarElement = this._meter.querySelector(SELECTOR_METER_COLBAR)\n      this._textElement = this._meter.querySelector(SELECTOR_TEXT)\n\n      if (this._textElement) {\n        this._config = Object.assign({}, this._config, { ...Manipulator.getDataAttributes(this._textElement) }, { enterPass: this._textElement.innerText })\n      }\n    }\n    if (this._isCustom) {\n      /*this._capsElement = document.createElement('small')\n      this._capsElement.style.display = 'none'\n      this._capsElement.classList.add('password-caps', 'form-text', 'text-warning', 'position-absolute', 'bg-white', 'w-100')\n      this._capsElement.innerHTML = this._config.alertCaps\n\n      this._element.parentNode.appendChild(this._capsElement)*/\n\n      this._capsElement = this._element.parentNode.querySelector(SELECTOR_CAPS)\n    }\n\n    this._showPwdElement = SelectorEngine.findOne(SELECTOR_BTN_SHOW_PWD, this._element.parentNode)\n  }\n\n  _bindEvents() {\n    if (this._meter) {\n      EventHandler.on(this._element, EVENT_KEYUP, () => this._checkPassword())\n    }\n\n    if (this._isCustom) {\n      EventHandler.on(this._element, EVENT_KEYDOWN, (evt) => {\n        if (evt.key === 'Shift') {\n          this._isShiftPressed = true\n        }\n      })\n      EventHandler.on(this._element, EVENT_KEYUP, (evt) => {\n        if (evt.key === 'Shift') {\n          this._isShiftPressed = false\n        }\n        if (evt.key === 'CapsLock') {\n          this._isCapsOn = !this._isCapsOn\n          if (this._isCapsOn) {\n            this._showCapsMsg()\n          } else {\n            this._hideCapsMsg()\n          }\n        }\n      })\n      EventHandler.on(this._element, EVENT_KEYPRESS, (evt) => {\n        const matches = evt.key.match(/[A-Z]$/) || []\n        if (matches.length > 0 && !this._isShiftPressed) {\n          this._isCapsOn = true\n          this._showCapsMsg()\n        } else if (this._isCapsOn) {\n          this._isCapsOn = false\n          this._hideCapsMsg()\n        }\n      })\n    }\n\n    if (this._showPwdElement) {\n      EventHandler.on(this._showPwdElement, EVENT_CLICK, () => this._toggleShowPassword())\n    }\n  }\n\n  _showCapsMsg() {\n    if (this._capsElement) {\n      this._capsElement.classList.add(CLASS_NAME_SHOW)\n    }\n  }\n  _hideCapsMsg() {\n    if (this._capsElement) {\n      this._capsElement.classList.remove(CLASS_NAME_SHOW)\n    }\n  }\n\n  _toggleShowPassword() {\n    const toShow = this._element.getAttribute('type') === 'password'\n    SelectorEngine.find('[class^=\"password-icon\"]', this._showPwdElement).forEach((icon) => icon.classList.toggle('d-none'))\n    if (toShow) {\n      this._element.setAttribute('type', 'text')\n    } else {\n      this._element.setAttribute('type', 'password')\n    }\n  }\n\n  _checkPassword() {\n    const score = this._calculateScore(this._element.value)\n    const perc = score < 0 ? 0 : score\n\n    this._colorBarElement.classList.forEach((className) => {\n      if (className.match(/(^|\\s)bg-\\S+/g)) {\n        this._colorBarElement.classList.remove(className)\n      }\n    })\n    this._colorBarElement.classList.add('bg-' + this._scoreColor(score))\n    this._colorBarElement.style.width = perc + '%'\n    this._colorBarElement.setAttribute('aria-valuenow', perc)\n\n    EventHandler.trigger(this._element, EVENT_SCORE)\n\n    if (this._textElement) {\n      let text = this._scoreText(score)\n      if (this._element.value.length === 0 && score <= 0) {\n        text = this._config.enterPass\n      }\n\n      if (this._textElement.innerHTML.search(text) === -1) {\n        this._textElement.innerHTML = text\n        this._textElement.classList.forEach((className) => {\n          if (className.match(/(^|\\s)text-\\S+/g)) {\n            this._textElement.classList.remove(className)\n          }\n        })\n        this._textElement.classList.add('text-' + this._scoreColor(score))\n        EventHandler.trigger(this._element, EVENT_TEXT)\n      }\n    }\n  }\n\n  /**\n   * Returns strings based on the score given.\n   *\n   * @param int score Score base.\n   * @return string\n   */\n  _scoreText(score) {\n    if (score === -1) {\n      return this._config.shortPass\n    }\n\n    score = score < 0 ? 0 : score\n\n    if (score < 26) {\n      return this._config.shortPass\n    }\n    if (score < 51) {\n      return this._config.badPass\n    }\n    if (score < 76) {\n      return this._config.goodPass\n    }\n\n    return this._config.strongPass\n  }\n\n  _scoreColor(score) {\n    if (score === -1) {\n      return 'danger'\n    }\n    if (score === -2) {\n      return 'muted'\n    }\n\n    score = score < 0 ? 0 : score\n\n    if (score < 26) {\n      return 'danger'\n    }\n    if (score < 51) {\n      return 'warning'\n    }\n    if (score < 76) {\n      return 'success'\n    }\n\n    return 'success'\n  }\n\n  /**\n   * Returns a value between -1 and 100 to score\n   * the user's password.\n   *\n   * @param  string password The password to be checked.\n   * @return int\n   */\n  _calculateScore(password) {\n    var score = 0\n\n    // empty password\n    if (password.trim().length === 0) {\n      return -2\n    }\n\n    // password < this._config.minimumLength\n    if (password.length < this._config.minimumLength) {\n      return -1\n    }\n\n    // password length\n    score += password.length * 4\n    score += this._checkRepetition(1, password).length - password.length\n    score += this._checkRepetition(2, password).length - password.length\n    score += this._checkRepetition(3, password).length - password.length\n    score += this._checkRepetition(4, password).length - password.length\n\n    // password has 3 numbers\n    if (password.match(/(.*[0-9].*[0-9].*[0-9])/)) {\n      score += 5\n    }\n\n    // password has at least 2 sybols\n    var symbols = '.*[!,@,#,$,%,^,&,*,?,_,~]'\n    symbols = new RegExp('(' + symbols + symbols + ')')\n    if (password.match(symbols)) {\n      score += 5\n    }\n\n    // password has Upper and Lower chars\n    if (password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)) {\n      score += 10\n    }\n\n    // password has number and chars\n    if (password.match(/([a-zA-Z])/) && password.match(/([0-9])/)) {\n      score += 15\n    }\n\n    // password has number and symbol\n    if (password.match(/([!,@,#,$,%,^,&,*,?,_,~])/) && password.match(/([0-9])/)) {\n      score += 15\n    }\n\n    // password has char and symbol\n    if (password.match(/([!,@,#,$,%,^,&,*,?,_,~])/) && password.match(/([a-zA-Z])/)) {\n      score += 15\n    }\n\n    // password is just numbers or chars\n    if (password.match(/^\\w+$/) || password.match(/^\\d+$/)) {\n      score -= 10\n    }\n\n    if (score > 100) {\n      score = 100\n    }\n\n    if (score < 0) {\n      score = 0\n    }\n\n    return score\n  }\n\n  /**\n   * Checks for repetition of characters in\n   * a string\n   *\n   * @param int rLen Repetition length.\n   * @param string str The string to be checked.\n   * @return string\n   */\n  _checkRepetition(rLen, str) {\n    var res = '',\n      repeated = false\n    for (var i = 0; i < str.length; i++) {\n      repeated = true\n      for (var j = 0; j < rLen && j + i + rLen < str.length; j++) {\n        repeated = repeated && str.charAt(j + i) === str.charAt(j + i + rLen)\n      }\n      if (j < rLen) {\n        repeated = false\n      }\n      if (repeated) {\n        i += rLen - 1\n        repeated = false\n      } else {\n        res += str.charAt(i)\n      }\n    }\n    return res\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\n/*const inputs = SelectorEngine.find(SELECTOR_PASSWORD)\ninputs.forEach((input) => {\n  InputPassword.getOrCreateInstance(input)\n})*/\n\nconst createInput = (element) => {\n  if (element && element.matches(SELECTOR_PASSWORD)) {\n    return InputPassword.getOrCreateInstance(element)\n  }\n  return null\n}\n\nEventHandler.on(document, EVENT_MOUSEDOWN_DATA_API, SELECTOR_PASSWORD + ', label', function () {\n  const target = InputLabel.getInputFromLabel(this) || this\n  createInput(target)\n})\nEventHandler.on(document, EVENT_KEYUP_DATA_API, SELECTOR_PASSWORD + ', label', function () {\n  const target = InputLabel.getInputFromLabel(this) || this\n  const element = createInput(target)\n  if (element && element._label) {\n    element._label._labelOut()\n  }\n})\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_BTN_SHOW_PWD, function () {\n  const target = this.parentNode && this.parentNode.querySelector(SELECTOR_PASSWORD)\n  if (target) {\n    InputPassword.getOrCreateInstance(target)\n  }\n})\n\nexport default InputPassword\n"],"names":[],"mappings":"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"}
{"version":3,"file":"track-focus.js","sources":["../../src/js/plugins/track-focus.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap Italia (https://italia.github.io/bootstrap-italia/)\n * Authors: https://github.com/italia/bootstrap-italia/blob/main/AUTHORS\n * Licensed under BSD-3-Clause license (https://github.com/italia/bootstrap-italia/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst DATA_MOUSE_FOCUS = 'data-focus-mouse'\n\nclass TrackFocus {\n  constructor() {\n    this._usingMouse = false\n    this._bindEvents()\n  }\n\n  // Private\n  _bindEvents() {\n    if (typeof document === 'undefined') {\n      return\n    }\n    const events = ['keydown', 'mousedown']\n    events.forEach((evtName) => {\n      document.addEventListener(evtName, (evt) => {\n        this._usingMouse = evt.type === 'mousedown'\n      })\n    })\n    document.addEventListener('focusin', (evt) => {\n      if (this._usingMouse) {\n        if (evt.target) {\n          evt.target.setAttribute(DATA_MOUSE_FOCUS, true)\n        }\n      }\n    })\n    document.addEventListener('focusout', (evt) => {\n      if (evt.target) {\n        evt.target.setAttribute(DATA_MOUSE_FOCUS, false)\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nnew TrackFocus()\n\nexport default TrackFocus\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM,gBAAgB,GAAG;;AAEzB,MAAM,UAAU,CAAC;AACjB,EAAE,WAAW,GAAG;AAChB,IAAI,IAAI,CAAC,WAAW,GAAG;AACvB,IAAI,IAAI,CAAC,WAAW;AACpB;;AAEA;AACA,EAAE,WAAW,GAAG;AAChB,IAAI,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;AACzC,MAAM;AACN;AACA,IAAI,MAAM,MAAM,GAAG,CAAC,SAAS,EAAE,WAAW;AAC1C,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,KAAK;AAChC,MAAM,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,GAAG,KAAK;AAClD,QAAQ,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,IAAI,KAAK;AACxC,OAAO;AACP,KAAK;AACL,IAAI,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,GAAG,KAAK;AAClD,MAAM,IAAI,IAAI,CAAC,WAAW,EAAE;AAC5B,QAAQ,IAAI,GAAG,CAAC,MAAM,EAAE;AACxB,UAAU,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAgB,EAAE,IAAI;AACxD;AACA;AACA,KAAK;AACL,IAAI,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,GAAG,KAAK;AACnD,MAAM,IAAI,GAAG,CAAC,MAAM,EAAE;AACtB,QAAQ,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK;AACvD;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAI,UAAU;;;;"}
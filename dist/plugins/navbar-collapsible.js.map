{"version":3,"file":"navbar-collapsible.js","sources":["../../src/js/plugins/navbar-collapsible.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap Italia (https://italia.github.io/bootstrap-italia/)\n * Authors: https://github.com/italia/bootstrap-italia/blob/main/AUTHORS\n * Licensed under BSD-3-Clause license (https://github.com/italia/bootstrap-italia/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\n\nimport { getElementFromSelector, isVisible, reflow } from './util/index'\nimport EventHandler from './dom/event-handler'\nimport SelectorEngine from './dom/selector-engine'\n\nimport { isScreenMobile } from './util/device'\nimport { getElementIndex } from './util/dom'\nimport { disablePageScroll, enablePageScroll } from './util/pageScroll'\n\nconst NAME = 'navbarcollapsible'\nconst DATA_KEY = 'bs.navbarcollapsible'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_CLICK = `click${EVENT_KEY}`\nconst EVENT_KEYUP = `keyup${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_EXPANDED = 'expanded'\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"navbarcollapsible\"]'\n\n//const SELECTOR_NAVBAR = '.navbar-collapsable'\nconst SELECTOR_BTN_CLOSE = '.close-div button'\nconst SELECTOR_BTN_MENU_CLOSE = '.close-menu'\nconst SELECTOR_BTN_BACK = '.it-back-button'\nconst SELECTOR_OVERLAY = '.overlay'\nconst SELECTOR_MENU_WRAPPER = '.menu-wrapper'\nconst SELECTOR_NAVLINK = '.nav-link'\nconst SELECTOR_MEGAMENUNAVLINK = '.nav-item .list-item'\nconst SELECTOR_HEADINGLINK = '.it-heading-link'\nconst SELECTOR_FOOTERLINK = '.it-footer-link'\n\nclass NavBarCollapsible extends BaseComponent {\n  constructor(element) {\n    super(element)\n\n    this._isShown = this._element.classList.contains(CLASS_NAME_EXPANDED)\n    this._isTransitioning = false\n\n    this._isMobile = isScreenMobile()\n    this._isKeyShift = false\n\n    this._currItemIdx = 0\n\n    this._btnClose = SelectorEngine.findOne(SELECTOR_BTN_CLOSE, this._element)\n    this._btnBack = SelectorEngine.findOne(SELECTOR_BTN_BACK, this._element)\n    this._menuWrapper = SelectorEngine.findOne(SELECTOR_MENU_WRAPPER, this._element)\n    this._overlay = null\n    this._setOverlay()\n    this._menuItems = SelectorEngine.find(\n      [SELECTOR_NAVLINK, SELECTOR_MEGAMENUNAVLINK, SELECTOR_HEADINGLINK, SELECTOR_FOOTERLINK, SELECTOR_BTN_MENU_CLOSE].join(','),\n      this._element\n    )\n\n    this._bindEvents()\n  }\n  // Getters\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n\n  show(relatedTarget) {\n    if (this._isShown || this._isTransitioning) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, {\n      relatedTarget,\n    })\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    if (this._btnBack) {\n      this._btnBack.classList.add(CLASS_NAME_SHOW)\n    }\n\n    this._isShown = true\n\n    disablePageScroll()\n    this._showElement()\n  }\n\n  hide() {\n    if (!this._isShown || this._isTransitioning) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = false\n\n    const isAnimated = this._isAnimated()\n\n    if (isAnimated) {\n      this._isTransitioning = true\n    }\n\n    if (this._btnBack) {\n      this._btnBack.classList.remove(CLASS_NAME_SHOW)\n    }\n    if (this._overlay) {\n      this._overlay.classList.remove(CLASS_NAME_SHOW)\n    }\n\n    this._element.classList.remove(CLASS_NAME_EXPANDED)\n\n    enablePageScroll()\n    this._queueCallback(() => this._hideElement(), this._menuWrapper, isAnimated)\n  }\n\n  toggle(relatedTarget) {\n    this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  dispose() {\n    if (typeof window !== 'undefined' && typeof document !== 'undefined') {\n      EventHandler.off(window, EVENT_RESIZE)\n      super.dispose()\n    }\n  }\n\n  // Private\n\n  _bindEvents() {\n    if (typeof window !== 'undefined' && typeof document !== 'undefined') {\n      EventHandler.on(window, EVENT_RESIZE, () => this._onResize())\n\n      if (this._overlay) {\n        EventHandler.on(this._overlay, EVENT_CLICK, () => this.hide())\n      }\n      EventHandler.on(this._btnClose, EVENT_CLICK, (evt) => {\n        evt.preventDefault()\n        this.hide()\n      })\n      EventHandler.on(this._btnBack, EVENT_CLICK, (evt) => {\n        evt.preventDefault()\n        this.hide()\n      })\n\n      this._menuItems.forEach((item) => {\n        EventHandler.on(item, EVENT_KEYDOWN, (evt) => this._isMobile && this._onMenuItemKeyDown(evt))\n        EventHandler.on(item, EVENT_KEYUP, (evt) => this._isMobile && this._onMenuItemKeyUp(evt))\n        EventHandler.on(item, EVENT_CLICK, (evt) => this._isMobile && this._onMenuItemClick(evt))\n      })\n    }\n  }\n\n  _onResize() {\n    this._isMobile = isScreenMobile()\n  }\n\n  _onMenuItemKeyUp(evt) {\n    if (evt.key === 'Shift') {\n      this._isKeyShift = false\n    }\n  }\n  _onMenuItemKeyDown(evt) {\n    if (evt.key === 'Shift') {\n      this._isKeyShift = true\n    }\n    if (evt.key === 'Tab') {\n      evt.preventDefault()\n      this._focusNext()\n    }\n  }\n  /**\n   * Update the last focused element when an interactive element is clicked\n   */\n  _onMenuItemClick(evt) {\n    this.currItemIdx = getElementIndex(evt.currentTarget, this._menuItems)\n  }\n\n  _isAnimated() {\n    //there's no an animation css class you can toggle with a \"show\" css class, so it is supposed true\n    return true //this._element.classList.contains(CLASS_NAME_EXPANDED)\n  }\n\n  _isElementHidden(element) {\n    return element.offsetParent === null\n  }\n\n  _showElement() {\n    const isAnimated = this._isAnimated()\n\n    this._element.style.display = 'block'\n    this._element.removeAttribute('aria-hidden')\n    this._element.setAttribute('aria-expanded', true)\n    //this._element.setAttribute('role', 'dialog')\n    if (this._overlay) {\n      this._overlay.style.display = 'block'\n    }\n\n    if (isAnimated) {\n      reflow(this._element)\n    }\n\n    this._element.classList.add(CLASS_NAME_EXPANDED)\n    if (this._overlay) {\n      this._overlay.classList.add(CLASS_NAME_SHOW)\n    }\n\n    const transitionComplete = () => {\n      this._isTransitioning = false\n      const firstItem = this._getNextVisibleItem(0) //at pos 0 there's the close button\n      if (firstItem.item) {\n        firstItem.item.focus()\n        this._currItemIdx = firstItem.index\n      }\n      EventHandler.trigger(this._element, EVENT_SHOWN)\n    }\n\n    this._queueCallback(transitionComplete, this._menuWrapper, isAnimated)\n  }\n\n  _hideElement() {\n    if (this._overlay) {\n      this._overlay.style.display = 'none'\n    }\n\n    this._element.style.display = 'none'\n    this._element.setAttribute('aria-hidden', true)\n    this._element.removeAttribute('aria-expanded')\n    //this._element.removeAttribute('aria-modal')\n    //this._element.removeAttribute('role')\n    this._isTransitioning = false\n    EventHandler.trigger(this._element, EVENT_HIDDEN)\n  }\n\n  _setOverlay() {\n    this._overlay = SelectorEngine.findOne(SELECTOR_OVERLAY, this._element)\n    if (this._isAnimated) {\n      this._overlay.classList.add(CLASS_NAME_FADE)\n    }\n  }\n\n  /**\n   * Moves focus to the next focusable element based on the DOM exploration direction\n   */\n  _focusNext() {\n    let nextIdx = this._currItemIdx + (this._isKeyShift ? -1 : 1)\n    if (nextIdx < 0) {\n      nextIdx = this._menuItems.length - 1\n    } else if (nextIdx >= this._menuItems.length) {\n      nextIdx = 0\n    }\n    const target = this._getNextVisibleItem(nextIdx, this._isKeyShift)\n    if (target.item) {\n      target.item.focus()\n      this._currItemIdx = target.index\n    }\n  }\n  /**\n   * Get the next focusable element from a starting point\n   * @param {int} start - the index of the array of the elements as starting point (included)\n   * @param {boolean} wayTop - the array search direction (true: bottom to top, false: top to bottom)\n   * @returns {Object} the item found and its index in the array\n   */\n  _getNextVisibleItem(start, wayTop) {\n    let found = null\n    let foundIdx = null\n\n    let i = start\n    let incr = wayTop ? -1 : 1\n    let firstCheck = false\n    while (!found && (i != start || !firstCheck)) {\n      if (i == start) {\n        firstCheck = true\n      }\n      if (!this._isElementHidden(this._menuItems[i])) {\n        found = this._menuItems[i]\n        foundIdx = i\n      }\n      i = i + incr\n      if (i < 0) {\n        i = this._menuItems.length - 1\n      } else if (i >= this._menuItems.length) {\n        i = 0\n      }\n    }\n\n    return {\n      item: found,\n      index: foundIdx,\n    }\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nif (typeof window !== 'undefined' && typeof document !== 'undefined') {\n  EventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n    const target = getElementFromSelector(this)\n\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault()\n    }\n\n    EventHandler.one(target, EVENT_SHOW, (showEvent) => {\n      if (showEvent.defaultPrevented) {\n        // only register focus restorer if modal will actually get shown\n        return\n      }\n\n      EventHandler.one(target, EVENT_HIDDEN, () => {\n        if (isVisible(this)) {\n          this.focus()\n        }\n      })\n    })\n\n    const data = NavBarCollapsible.getOrCreateInstance(target)\n\n    data.toggle(this)\n  })\n}\n\nexport default NavBarCollapsible\n"],"names":[],"mappings":"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"}